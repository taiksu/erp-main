import{T as p,d as m,e as d,o as c,b as i,a as s,u as o,Z as f,p as g,f as x,m as b,v,t as y,w,g as _,n as h,F as B}from"./app-vGR4VHCP.js";import{B as N}from"./ButtonPrimary-27H6vMbw.js";import{_ as k}from"./InputError-DDmLd1jD.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const q={class:"min-h-screen flex flex-col items-center justify-center px-4 pt-4"},V={class:"w-full max-w-md rounded-2xl p-8 mt-16"},C={class:"mb-6"},P={key:0,class:"mb-4 text-sm text-red-600 text-center"},M={__name:"LoginEstoque",props:{canResetPassword:Boolean,status:String},setup(S){const t=p({pin:""}),r=m(null),u=async()=>{var l,e,n;r.value=null;try{const a=await t.post(route("login.estoque"),{onFinish:()=>t.reset("pin")});(l=a.data)!=null&&l.redirect&&(window.location.href=a.data.redirect)}catch(a){((e=a.response)==null?void 0:e.status)===403?r.value="Acesso negado ao controle de estoque.":((n=a.response)==null?void 0:n.status)===401?r.value="PIN inválido.":console.log("Ocorreu um erro inesperado")}};return(l,e)=>(c(),d(B,null,[i(o(f),{title:"Acessar"}),e[4]||(e[4]=s("div",{class:"w-full h-[71px] bg-[#164110] py-4 fixed top-0 left-0 z-10"},[s("div",{class:"container mx-auto flex justify-center"},[s("img",{class:"h-8",src:"/storage/images/logo_tipo.png",alt:"Logo do Taiksu"})])],-1)),s("div",q,[s("div",V,[e[3]||(e[3]=s("div",{class:"mb-8"},[s("h1",{class:"text-3xl font-bold text-gray-800 text-center"}," Controle de estoque "),s("p",{class:"text-gray-500 text-center"}," Registro de retirada em estoque da loja. ")],-1)),s("form",{onSubmit:g(u,["prevent"])},[s("div",C,[e[1]||(e[1]=s("label",{for:"pin",class:"block text-2-l font-semibold text-gray-800 mb-1"}," PIN ",-1)),b(s("input",{id:"pin","onUpdate:modelValue":e[0]||(e[0]=n=>o(t).pin=n),class:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",type:"password",placeholder:"●●●●",autocomplete:"off","aria-label":"Senha"},null,512),[[v,o(t).pin]]),i(k,{class:"mt-2 text-center",message:o(t).errors.pin},null,8,["message"])]),r.value?(c(),d("div",P,y(r.value),1)):x("",!0),i(N,{class:h(["w-full py-3 transition-opacity",{"opacity-50 cursor-not-allowed":o(t).processing}]),disabled:o(t).processing},{default:w(()=>e[2]||(e[2]=[_(" Acessar ")])),_:1},8,["class","disabled"])],32)])])],64))}};export{M as default};
